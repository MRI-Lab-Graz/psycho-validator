{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://psycho-validator.org/schemas/image/v1.0.0",
  "title": "Image Stimulus Metadata",
  "description": "Schema for image stimulus metadata with technical and study parameters",
  "version": "1.0.0",
  "type": "object",
  "properties": {
    "Technical": {
      "type": "object",
      "description": "Technical file properties",
      "properties": {
        "StimulusType": {
          "type": "string",
          "enum": ["Image"],
          "description": "Must be 'Image' for image stimuli"
        },
        "FileFormat": {
          "type": "string",
          "enum": ["png", "jpg", "jpeg", "tiff", "bmp", "gif"],
          "description": "Image file format"
        },
        "Resolution": {
          "type": "array",
          "items": { "type": "integer", "minimum": 1 },
          "minItems": 2,
          "maxItems": 2,
          "description": "Image width Ã— height in pixels [width, height]"
        },
        "ColorSpace": {
          "type": "string",
          "enum": ["RGB", "Grayscale", "RGBA", "CMYK", "YCbCr"],
          "description": "Color space used in the image"
        },
        "FileSize": {
          "type": "integer",
          "minimum": 0,
          "description": "File size in bytes"
        }
      },
      "required": ["StimulusType", "FileFormat", "Resolution", "ColorSpace"]
    },
    "Study": {
      "type": "object",
      "description": "Study-related parameters",
      "properties": {
        "StudyID": {
          "type": "string",
          "description": "Unique identifier for the study this stimulus belongs to"
        },
        "TaskName": {
          "type": "string",
          "description": "Experimental task name"
        },
        "StimulusID": {
          "type": "string",
          "description": "Unique ID to cross-reference stimuli with responses"
        },
        "Condition": {
          "type": "string",
          "description": "Experimental condition (e.g., 'control', 'treatment', 'baseline')"
        }
      },
      "required": ["StudyID", "TaskName", "StimulusID"]
    },
    "Categories": {
      "type": "object",
      "description": "Classification and categorization",
      "properties": {
        "PrimaryCategory": {
          "type": "string",
          "enum": ["faces", "objects", "scenes", "words", "symbols", "patterns", "other"],
          "description": "Primary content category"
        },
        "StudyDomain": {
          "type": "string",
          "enum": ["cognitive", "social", "clinical", "developmental", "neuroscience", "perception"],
          "description": "Primary research domain"
        },
        "ContentTags": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Searchable tags describing image content"
        }
      },
      "required": ["PrimaryCategory", "StudyDomain"]
    },
    "Metadata": {
      "type": "object",
      "description": "Administrative metadata",
      "properties": {
        "SchemaVersion": {
          "type": "string",
          "pattern": "^\\d+\\.\\d+\\.\\d+$",
          "description": "Version of the schema used (semantic versioning)",
          "default": "1.0.0"
        },
        "Creator": {
          "type": "string",
          "description": "Person/institution who created/owns this stimulus"
        },
        "CreatorORCID": {
          "type": "string",
          "pattern": "^\\d{4}-\\d{4}-\\d{4}-\\d{3}[0-9X]$",
          "description": "ORCID identifier of the creator (e.g., 0000-0000-0000-0000)"
        },
        "CreationDate": {
          "type": "string",
          "format": "date",
          "description": "Date when stimulus was created (YYYY-MM-DD)"
        },
        "Institution": {
          "type": "string",
          "description": "Institution where the data was collected"
        },
        "InstitutionROR": {
          "type": "string",
          "pattern": "^https://ror\\.org/0[a-z0-9]{6}[0-9]{2}$",
          "description": "Research Organization Registry (ROR) identifier"
        },
        "DatasetDOI": {
          "type": "string",
          "pattern": "^10\\.[0-9]+/.*$",
          "description": "DOI of the parent dataset (for FAIR findability)"
        },
        "License": {
          "type": "string",
          "enum": ["CC0", "CC-BY", "CC-BY-SA", "CC-BY-NC", "CC-BY-ND", "CC-BY-NC-SA", "proprietary", "restricted"],
          "description": "Usage license (Creative Commons or other)"
        },
        "Keywords": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Keywords for enhanced findability (Dublin Core compliance)"
        },
        "RelatedPublications": {
          "type": "array",
          "items": {
            "type": "string",
            "pattern": "^10\\.[0-9]+/.*$"
          },
          "description": "DOIs of related publications"
        }
      },
      "required": ["SchemaVersion", "Creator", "CreationDate"]
    }
  },
  "required": ["Technical", "Study", "Categories", "Metadata"]
}
